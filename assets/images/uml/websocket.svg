<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="609pt" style="width:643px;height:609px;" version="1.1" viewBox="0 0 643 609" width="643pt"><defs><filter height="300%" id="f1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="223" x="215" y="20.6279">WebSocekt 数据传输层处理</text><path d="M221,39.583 C221,36.583 223,34.583 226,34.583 C229,34.583 231,36.583 231,39.583 C231,36.583 233,34.583 236,34.583 C239,34.583 241,36.583 241,39.583 C241,36.583 243,34.583 246,34.583 C249,34.583 251,36.583 251,39.583 C251,36.583 253,34.583 256,34.583 C259,34.583 261,36.583 261,39.583 C261,36.583 263,34.583 266,34.583 C269,34.583 271,36.583 271,39.583 C271,36.583 273,34.583 276,34.583 C279,34.583 281,36.583 281,39.583 C281,36.583 283,34.583 286,34.583 C289,34.583 291,36.583 291,39.583 C291,36.583 293,34.583 296,34.583 C299,34.583 301,36.583 301,39.583 C301,36.583 303,34.583 306,34.583 C309,34.583 311,36.583 311,39.583 C311,36.583 313,34.583 316,34.583 C319,34.583 321,36.583 321,39.583 C321,36.583 323,34.583 326,34.583 C329,34.583 331,36.583 331,39.583 C334,39.583 336,41.583 336,44.583 C336,47.583 334,49.583 331,49.583 C334,49.583 336,51.583 336,54.583 C336,57.583 334,59.583 331,59.583 C334,59.583 336,61.583 336,64.583 C336,67.583 334,69.583 331,69.583 C331,72.583 328,74.583 326,74.583 C323,74.583 321,72.583 321,69.583 C321,72.583 318,74.583 316,74.583 C313,74.583 311,72.583 311,69.583 C311,72.583 308,74.583 306,74.583 C303,74.583 301,72.583 301,69.583 C301,72.583 298,74.583 296,74.583 C293,74.583 291,72.583 291,69.583 C291,72.583 288,74.583 286,74.583 C283,74.583 281,72.583 281,69.583 C281,72.583 278,74.583 276,74.583 C273,74.583 271,72.583 271,69.583 C271,72.583 268,74.583 266,74.583 C263,74.583 261,72.583 261,69.583 C261,72.583 258,74.583 256,74.583 C253,74.583 251,72.583 251,69.583 C251,72.583 248,74.583 246,74.583 C243,74.583 241,72.583 241,69.583 C241,72.583 238,74.583 236,74.583 C233,74.583 231,72.583 231,69.583 C231,72.583 228,74.583 226,74.583 C223,74.583 221,72.583 221,69.583 C218,69.583 216,67.583 216,64.583 C216,61.583 218,59.583 221,59.583 C218,59.583 216,57.583 216,54.583 C216,51.583 218,49.583 221,49.583 C218,49.583 216,47.583 216,44.583 C216,41.583 218,39.583 221,39.583 " fill="#FEFECE" filter="url(#f1)" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="228" y="58.627">服务端发送数据</text><polygon fill="#FBFB77" filter="url(#f1)" points="71,38.083,71,65.8374,183,65.8374,183,48.083,173,38.083,71,38.083" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="71,38.083,71,65.8374,183,65.8374,183,56.083,217.674,52.083,183,48.083,183,48.083,173,38.083,71,38.083" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="173" x2="173" y1="38.083" y2="48.083"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="183" x2="173" y1="48.083" y2="48.083"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="77" y="57.981">服务端发送数据</text><rect fill="#FEFECE" filter="url(#f1)" height="39.1201" style="stroke: #A80036; stroke-width: 1.5;" width="216" x="169" y="135.083"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="164" y="140.083"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="164" y="164.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="196" x="179" y="161.127">socket.io处理底层传输数据解析</text><polygon fill="#FBFB77" filter="url(#f1)" points="420.5,131.583,420.5,177.0918,591.5,177.0918,591.5,141.583,581.5,131.583,420.5,131.583" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="420.5,131.583,420.5,150.583,385.238,154.583,420.5,158.583,420.5,177.0918,591.5,177.0918,591.5,141.583,581.5,131.583,420.5,131.583" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="581.5" x2="581.5" y1="131.583" y2="141.583"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="591.5" x2="581.5" y1="141.583" y2="141.583"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="426.5" y="151.481">按照socket.io 的规范</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="426.5" y="169.2354">解析数据返回 js json 数据</text><rect fill="#FEFECE" filter="url(#f1)" height="39.1201" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="185" y="241.083"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="180" y="246.083"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="180" y="270.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="164" x="195" y="267.127">触发 socket.io ondata事件</text><polygon fill="#FBFB77" filter="url(#f1)" points="404.5,237.583,404.5,283.0918,529.5,283.0918,529.5,247.583,519.5,237.583,404.5,237.583" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="404.5,237.583,404.5,256.583,369.031,260.583,404.5,264.583,404.5,283.0918,529.5,283.0918,529.5,247.583,519.5,237.583,404.5,237.583" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="519.5" x2="519.5" y1="237.583" y2="247.583"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="529.5" x2="519.5" y1="247.583" y2="247.583"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="410.5" y="257.481">根据后端需求数据</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="410.5" y="275.2354">只走 ondata 事件</text><rect fill="#FEFECE" filter="url(#f1)" height="39.1201" style="stroke: #A80036; stroke-width: 1.5;" width="246" x="154" y="347.083"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="149" y="352.083"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="149" y="376.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="226" x="164" y="373.127">util/wsy/hf_socket.js 做数据处理封装</text><polygon fill="#FBFB77" filter="url(#f1)" points="435.5,343.583,435.5,389.0918,634.5,389.0918,634.5,353.583,624.5,343.583,435.5,343.583" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="435.5,343.583,435.5,362.583,400.205,366.583,435.5,370.583,435.5,389.0918,634.5,389.0918,634.5,353.583,624.5,343.583,435.5,343.583" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="624.5" x2="624.5" y1="343.583" y2="353.583"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="634.5" x2="624.5" y1="353.583" y2="353.583"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="441.5" y="363.481">另外在 socket.io 传输层为基础</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="441.5" y="381.2354">上封装一套事件驱动数据交互</text><rect fill="#FEFECE" filter="url(#f1)" height="39.1201" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="204" y="453.083"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="199" y="458.083"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="199" y="482.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="214" y="479.127">触发自定义封装事件</text><polygon fill="#FBFB77" filter="url(#f1)" points="385,449.583,385,495.0918,563,495.0918,563,459.583,553,449.583,385,449.583" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="385,449.583,385,468.583,350.105,472.583,385,476.583,385,495.0918,563,495.0918,563,459.583,553,449.583,385,449.583" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="553" x2="553" y1="449.583" y2="459.583"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="563" x2="553" y1="459.583" y2="459.583"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="391" y="469.481">触发js 绑定的数据监听事件</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="391" y="487.2354">浏览器端处理数据</text><polygon fill="#FEFECE" filter="url(#f1)" points="215,565.583,225,555.583,339,555.583,339,594.7031,329,604.7031,215,604.7031,215,565.583" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="329" x2="338" y1="565.583" y2="556.583"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="215" x2="329" y1="565.583" y2="565.583"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="329" x2="329" y1="565.583" y2="604.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="230" y="591.627">浏览器端处理</text><polygon fill="#FBFB77" filter="url(#f1)" points="6,566.083,6,593.8374,180,593.8374,180,576.083,170,566.083,6,566.083" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="6,566.083,6,593.8374,180,593.8374,180,584.083,214.692,580.083,180,576.083,180,576.083,170,566.083,6,566.083" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="170" x2="170" y1="566.083" y2="576.083"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="180" x2="170" y1="576.083" y2="576.083"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="12" y="585.981">js对接收数据进行逻辑处理</text><path d="M266.778,71.986 C263.718,88.27 263.436,111.865 265.931,129.498 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="266.794,134.764,269.2833,125.2349,265.9841,129.83,261.3889,126.5308,266.794,134.764" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M288.734,77.26 C291.365,94.914 291.056,118.507 287.806,134.764 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="287.823,71.986,285.4139,81.5357,288.6744,76.913,293.2971,80.1734,287.823,71.986" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M266.959,174.176 C263.668,191.373 263.376,217.022 266.08,235.723 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="266.923,240.8,269.3957,231.2666,266.1045,235.8675,261.5036,232.5762,266.923,240.8" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M288.53,179.238 C291.417,197.887 291.131,223.542 287.67,240.8 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="287.632,174.176,285.2674,183.7368,288.5063,179.099,293.1441,182.3379,287.632,174.176" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M266.959,280.176 C263.668,297.373 263.376,323.022 266.08,341.723 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="266.923,346.8,269.3957,337.2666,266.1045,341.8675,261.5036,338.5762,266.923,346.8" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M288.53,285.238 C291.417,303.887 291.131,329.542 287.67,346.8 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="287.632,280.176,285.2674,289.7368,288.5063,285.099,293.1441,288.3379,287.632,280.176" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M266.959,386.176 C263.668,403.373 263.376,429.022 266.08,447.723 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="266.923,452.8,269.3957,443.2666,266.1045,447.8675,261.5036,444.5762,266.923,452.8" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M288.53,391.238 C291.417,409.887 291.131,435.542 287.67,452.8 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="287.632,386.176,285.2674,395.7368,288.5063,391.099,293.1441,394.3379,287.632,386.176" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M266.959,492.444 C263.934,508.4802 263.442,531.7619 265.484,550.1535 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="266.127,555.2011,268.9576,545.7678,265.4952,550.2412,261.0217,546.7787,266.127,555.2011" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M288.533,497.594 C291.162,514.8398 291.156,537.9848 288.513,555.2011 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="287.632,492.444,285.2427,501.9987,288.4936,497.3692,293.123,500.6201,287.632,492.444" style="stroke: #A80036; stroke-width: 1.0;"/></g></svg>